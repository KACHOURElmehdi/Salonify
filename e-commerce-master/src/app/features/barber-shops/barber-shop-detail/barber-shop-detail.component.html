<div class="shop-detail-container">
    <!-- Loading State -->
    <div class="loading-state" *ngIf="loading">
        <mat-spinner></mat-spinner>
        <p>Loading shop details...</p>
    </div>

    <!-- Error State -->
    <div class="error-state" *ngIf="error">
        <mat-icon>error</mat-icon>
        <p>{{ error }}</p>
    </div>

    <!-- Shop Details -->
    <ng-container *ngIf="shop$ | async as shop">
        <!-- Shop Header -->
        <div class="shop-header">
            <div class="shop-images">
                <img [src]="shop.images.main" [alt]="shop.name" class="main-image">
                <div class="gallery">
                    <img *ngFor="let image of shop.images.gallery" [src]="image" alt="Gallery image" class="gallery-image">
                </div>
            </div>
            <div class="shop-info">
                <h1>{{ shop.name }}</h1>
                <div class="rating">
                    <mat-icon>star</mat-icon>
                    <span>{{ shop.rating.average }} ({{ shop.rating.count }} reviews)</span>
                </div>
                <p class="address">
                    <mat-icon>location_on</mat-icon>
                    {{ shop.address.street }}, {{ shop.address.city }}, {{ shop.address.state }} {{ shop.address.zipCode }}
                </p>
                <div class="contact">
                    <p><mat-icon>phone</mat-icon> {{ shop.contact.phone }}</p>
                    <p><mat-icon>email</mat-icon> {{ shop.contact.email }}</p>
                    <p *ngIf="shop.contact.website">
                        <mat-icon>language</mat-icon>
                        <a [href]="shop.contact.website" target="_blank">Visit Website</a>
                    </p>
                </div>
            </div>
        </div>

        <!-- Shop Description -->
        <mat-card class="description-card">
            <mat-card-header>
                <mat-card-title>About Us</mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <p>{{ shop.description }}</p>
            </mat-card-content>
        </mat-card>

        <!-- Services -->
        <mat-card class="services-card">
            <mat-card-header>
                <mat-card-title>Our Services</mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <div class="services-grid">
                    <div *ngFor="let service of shop.services" class="service-item">
                        <h3>{{ service.name }}</h3>
                        <p>{{ service.description }}</p>
                        <div class="service-details">
                            <span class="price">{{ service.price | currency }}</span>
                            <span class="duration">{{ service.duration }} min</span>
                        </div>
                    </div>
                </div>
            </mat-card-content>
        </mat-card>

        <!-- Opening Hours -->
        <mat-card class="hours-card">
            <mat-card-header>
                <mat-card-title>Opening Hours</mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <div class="hours-grid">
                    <div *ngFor="let hour of shop.openingHours | keyvalue" class="hour-item">
                        <span class="day">{{ hour.key }}</span>
                        <span class="time">{{ hour.value.open }} - {{ hour.value.close }}</span>
                    </div>
                </div>
            </mat-card-content>
        </mat-card>

        <!-- Amenities -->
        <mat-card class="amenities-card">
            <mat-card-header>
                <mat-card-title>Amenities</mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <mat-chip-listbox>
                    <mat-chip-option *ngFor="let amenity of shop.amenities">{{ amenity }}</mat-chip-option>
                </mat-chip-listbox>
            </mat-card-content>
        </mat-card>
    </ng-container>
</div> 